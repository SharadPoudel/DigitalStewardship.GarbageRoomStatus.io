<!DOCTYPE html>
<html>

<head>
  <style>
    .image-capture {
      width: 0.1px;
      height: 0.1px;
      opacity: 0;
      overflow: hidden;
      position: absolute;
      z-index: -1;
    }
  </style>
</head>

<body>

  <h1>Wastepooling</h1>
  <p>On this page you can post your bulky waste in need of pickup or select a post to offer pickup in Granng√•rden,
    Beckomberga.</p>

  <div class="top-container-div">
    <h2>Do you have any bulky waste in need of pickup?</h2>

    <image></image>

    <button class="button-div" onclick="createPost()">Post</button>
  </div>

  <div id="post-container-div"></div>



  <script>


    let postTemplate, postImage, postName, postAddress, postContact, postDelete;

    var postImageInput, postAddressInput, postItemInput;

    const fileInput = document.getElementById('file-input');

    postTemplate = document.createElement("div");
    postTemplate.setAttribute("id", "post-template-div");

    postImage = document.createElement("div");

    postImagePreview = document.createElement("img");
    postImagePreview.src = "../images/image_preview.png";

    postImageInput = document.createElement("input");
    postImageInput.setAttribute("class", "image-capture");
    postImageInput.setAttribute("type", "file");
    postImageInput.setAttribute("accept", "image/*");
    postImageInput.setAttribute("id", "file-input");

    postImageLabel = document.createElement("label");
    postImageLabel.setAttribute("class", "post-image-label");
    postImageLabel.setAttribute("for", "file-input");
    postImageLabel.innerHTML = "Choose image";

    postImage.appendChild(postImagePreview);
    postImage.appendChild(postImageInput);
    postImage.appendChild(postImageLabel);


    // postImage.src = "../images/box.png";

    // creating name label and input field for item name
    postName = document.createElement("div");
    itemLabel = document.createElement("label");
    itemLabel.innerHTML = "Item name: "
    postItemInput = document.createElement("input");

    postName.appendChild(itemLabel)
    postName.appendChild(postItemInput)

    postAddress = document.createElement("div");

    postAddressLabel = document.createElement("label");
    postAddressLabel.innerHTML = "Your address: "
    postAddressInput = document.createElement("input");

    postAddress.appendChild(postAddressLabel)
    postAddress.appendChild(postAddressInput)

    postContact = document.createElement("div");

    postContactLabel = document.createElement("label");
    postContactLabel.innerHTML = "Contact";

    postContact.appendChild(postContactLabel);

    postDelete = document.createElement("div");

    postDeleteLabel = document.createElement("label");
    postDeleteLabel.innerHTML = "Delete?";

    postDeleteLabel.setAttribute("id", "post-delete-button");

    postDeleteLabel.onclick = function () { deletePost() };

    postDelete.appendChild(postDeleteLabel);


    postTemplate.appendChild(postImage);
    postTemplate.appendChild(postName);
    postTemplate.appendChild(postAddress);
    postTemplate.appendChild(postContact);
    postTemplate.appendChild(postDelete);

    function createPost() {

      document.getElementById("post-container-div").appendChild(postTemplate);
    }

    function savePost() {

      postImageInput
      postAddressInput
      postItemInput

      postTemplate.remove();
    }

    function deletePost() {
      postTemplate.remove();
    }

    postImageInput.addEventListener('change', async (e) => {

      itemPic = e.target.files[0];
      postImagePreview.src = window.URL.createObjectURL(itemPic);

    });


  </script>


</body>

</html>